<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Cult Battle System</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/style.css">
</head>

<body>
  <div id="app">
    <!-- Header —Å —É—Ä–æ–≤–Ω–µ–º –∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ -->
    <header class="header">
      <div class="level-circle" id="level-circle">
        <svg class="level-progress-ring" viewBox="0 0 44 44">
          <circle class="level-progress-bg" cx="22" cy="22" r="18" />
          <circle class="level-progress-fill" id="level-progress-fill" cx="22" cy="22" r="18" />
        </svg>
        <span class="level-number" id="hero-level">1</span>
      </div>
      <div class="resources">
        <div class="resource">
          <span class="icon">ü™ô</span>
          <span id="gold">0</span>
        </div>
        <div class="resource">
          <span class="icon">üèÆ</span>
          <span id="lamps">0</span>
        </div>
      </div>
      <button id="reset-btn" class="btn-icon" title="–°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—É">üîÑ</button>
    </header>

    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–¥–∑–µ–º–µ–ª—å—è -->
    <section class="dungeon-progress">
      <div class="dungeon-title" id="dungeon-title">DUNGEON 1</div>
      <div class="progress-bar">
        <div class="progress-dots" id="progress-dots">
          <!-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑ STAGES_PER_CHAPTER -->
        </div>
      </div>
    </section>

    <!-- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∏–ª—ã: –ì–µ—Ä–æ–π vs –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ -->
    <section class="power-comparison">
      <div class="power-tab cult">
        <div class="power-label">‚ö° –°–∏–ª–∞ –ö—É–ª—å—Ç–∞</div>
        <div class="power-value" id="hero-power">0</div>
      </div>
      <div class="power-tab enemy">
        <div class="power-label">‚ö° –°–∏–ª–∞ –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞</div>
        <div class="power-value" id="enemy-power">50</div>
      </div>
    </section>

    <!-- –ê—Ä–µ–Ω–∞ –±–æ—è (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
    <section id="battle-arena" class="battle-arena hidden">
      <div class="arena-header">
        <span>–†–∞—É–Ω–¥ <span id="battle-round">1</span></span>
      </div>

      <div class="arena-field">
        <!-- –ì–µ—Ä–æ–π —Å–ª–µ–≤–∞ -->
        <div class="arena-side hero-side">
          <div class="battle-unit hero-unit" id="battle-hero">
            <div class="unit-sprite">‚öîÔ∏è</div>
            <div class="unit-name">–ì–µ—Ä–æ–π</div>
            <div class="unit-stats">
              <span class="stat-damage">‚öîÔ∏è <span id="hero-damage">15</span></span>
            </div>
            <div class="unit-hp-bar">
              <div class="hp-fill" id="battle-hero-hp-fill"></div>
              <span id="battle-hero-hp-text">280/280</span>
            </div>
          </div>
        </div>

        <!-- VS —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
        <div class="arena-vs">VS</div>

        <!-- –í—Ä–∞–≥–∏ —Å–ø—Ä–∞–≤–∞ -->
        <div class="arena-side enemies-side" id="enemies-container">
          <!-- –í—Ä–∞–≥–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
      </div>

      <!-- –õ–æ–≥ –±–æ—è -->
      <div class="battle-log" id="battle-log">
        <!-- –ó–∞–ø–∏—Å–∏ –±–æ—è -->
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ–µ–º -->
      <div class="battle-controls">
        <button id="battle-step-btn" class="btn btn-step">–°–ª–µ–¥—É—é—â–∏–π —Ö–æ–¥</button>
        <button id="battle-auto-btn" class="btn btn-auto">–ê–≤—Ç–æ</button>
        <button id="battle-skip-btn" class="btn btn-skip">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
      </div>
    </section>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –±–æ—è -->
    <section id="battle-result" class="battle-result hidden">
      <div class="result-content">
        <h3 id="result-title">–ü–æ–±–µ–¥–∞!</h3>
        <p id="result-details"></p>
        <button id="close-result-btn" class="btn btn-primary">OK</button>
      </div>
    </section>

    <!-- –ü–æ–ø–∞–ø –ª—É—Ç–∞ -->
    <section id="loot-popup" class="loot-popup hidden">
      <div class="loot-popup-overlay"></div>
      <div class="loot-popup-content">
        <h3>–ù–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç!</h3>
        <div class="item-comparison">
          <div class="item-card equipped" id="equipped-item">
            <div class="item-badge">–ù–ê–î–ï–¢–û</div>
            <div class="item-slot-icon" id="equipped-item-slot">‚öîÔ∏è</div>
            <div class="item-name" id="equipped-item-name">–ü—É—Å—Ç–æ</div>
            <div class="item-stats">
              <span class="item-power" id="equipped-item-power">+0</span>
            </div>
            <div class="item-meta" id="equipped-item-meta">‚Äî</div>
          </div>
          <div class="vs-divider">VS</div>
          <div class="item-card new" id="new-item">
            <div class="item-badge">–ù–û–í–´–ô</div>
            <div class="item-slot-icon" id="new-item-slot">‚öîÔ∏è</div>
            <div class="item-name" id="new-item-name">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –ú–µ—á</div>
            <div class="item-stats">
              <span class="item-power" id="new-item-power">+50</span>
            </div>
            <div class="item-meta" id="new-item-meta">Lvl 10 ‚Ä¢ Epic</div>
          </div>
        </div>
        <div class="power-diff" id="power-diff"></div>
        <div class="loot-actions">
          <button id="sell-btn" class="btn btn-sell">
            <span>–ü—Ä–æ–¥–∞—Ç—å</span>
            <span id="sell-price">+10ü™ô</span>
          </button>
          <button id="equip-btn" class="btn btn-equip">–ù–∞–¥–µ—Ç—å</button>
        </div>
      </div>
    </section>

    <!-- –≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞ -->
    <section class="equipment">
      <div class="equipment-header">
        <h3>–≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞</h3>
        <div class="hero-combat-stats">
          <span class="combat-stat hp">‚ù§Ô∏è <span id="hero-hp-display">100/100</span></span>
          <span class="combat-stat damage">‚öîÔ∏è <span id="hero-damage-display">10</span></span>
        </div>
      </div>
      <div class="equipment-grid" id="equipment-grid"></div>
    </section>

    <!-- –õ–∞–º–ø–∞ -->
    <section class="lamp-section">
      <div class="lamp-info">
        <span class="lamp-icon" id="lamp-icon-btn" style="cursor: pointer;">üèÆ</span>
        <div class="lamp-stats">
          <div>–õ–∞–º–ø–∞ Lvl <span id="lamp-level">1</span></div>
          <div class="lamp-details">
            –ú–∞–∫—Å. —Ä–µ–¥–∫–æ—Å—Ç—å: <span id="lamp-rarity">Common</span>
          </div>
        </div>
        <button id="upgrade-lamp-btn" class="btn btn-small">
          –£–ª—É—á—à–∏—Ç—å (<span id="upgrade-cost">100</span>ü™ô)
        </button>
      </div>
    </section>

    <!-- –ü–æ–ø–∞–ø –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π —Ä–µ–¥–∫–æ—Å—Ç–µ–π -->
    <section id="rarity-popup" class="rarity-popup hidden">
      <div class="rarity-popup-overlay"></div>
      <div class="rarity-popup-content">
        <h3>üèÆ –®–∞–Ω—Å—ã –≤—ã–ø–∞–¥–µ–Ω–∏—è</h3>
        <div class="rarity-list" id="rarity-list">
          <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
        <button id="close-rarity-popup" class="btn btn-primary">OK</button>
      </div>
    </section>

    <!-- –ì–ª–∞–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ -->
    <footer class="action-bar">
      <button id="loot-btn" class="btn btn-loot">
        <span class="btn-icon">üèÆ</span>
        <span>LOOT</span>
        <span class="badge" id="lamps-badge">0</span>
      </button>
      <button id="fight-btn" class="btn btn-fight">
        <span class="btn-icon">‚öîÔ∏è</span>
        <span>FIGHT</span>
      </button>
    </footer>

    <!-- –î–µ–±–∞–≥ –ø–∞–Ω–µ–ª—å -->
    <section class="debug-panel">
      <button id="add-lamps" class="btn btn-debug">+10 üèÆ</button>
      <button id="add-gold" class="btn btn-debug">+100 ü™ô</button>
    </section>

    <!-- –ê–Ω–∏–º–∞—Ü–∏—è Level Up -->
    <div id="level-up-overlay" class="level-up-overlay hidden">
      <div class="level-up-content">
        <div class="level-up-icon">üéâ</div>
        <div class="level-up-text">LEVEL UP!</div>
        <div class="level-up-level" id="level-up-level">LVL 2</div>
      </div>
    </div>
  </div>

  <script type="module" src="/src/main.ts"></script>
</body>

</html>